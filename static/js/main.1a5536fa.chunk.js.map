{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","js/scrollPageDown.js","components/App/App.js","Api/fetchApi.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchRequest","setSearchRequest","className","s","event","preventDefault","toast","error","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","e","currentTarget","value","modalRoot","document","querySelector","Modal","onClose","children","handleKeyDown","useCallback","code","handleBackdropClick","target","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","ImageGalleryItem","setCurrentPicture","images","handleClick","dataset","largeimage","alt","map","item","src","webformatURL","tags","ImageGalleryItem__image","largeImageURL","shortid","generate","ImageGallery","Button","containerBtn__loadMore","Load","color","height","width","timeout","loader","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","setShowModal","pictures","setPictures","loading","setLoading","page","setPage","largeImageSrc","setLargeImageSrc","setAlt","getData","isFirstRun","useRef","current","length","showMessage","request","q","axios","get","GetImagesApi","then","response","status","trim","data","hits","Error","message","finally","autoClose","newestOnTop","undefined","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,uBAAyB,yC,mBCA3ED,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,mBCA1GD,EAAOC,QAAU,CAAC,OAAS,yB,iFCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,0BAA4B,6CAA6C,kBAAoB,uC,sJCMxPC,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,EAA0CC,mBAAS,IAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAkBA,OACE,wBAAQC,UAAWC,IAAEN,UAArB,SACE,uBAAMC,SAda,SAAAM,GACrBA,EAAMC,iBAEDL,GAILC,EAAiB,IAEjBH,EAASE,IALPM,IAAMC,MAAM,0BAUoBL,UAAWC,IAAEK,WAA7C,UACE,wBAAQC,KAAK,SAASP,UAAWC,IAAEO,mBAAnC,SACE,sBAAMR,UAAWC,IAAEQ,0BAAnB,sBAGF,uBACET,UAAWC,IAAES,kBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA7Bc,SAAAC,GACpBhB,EAAiBgB,EAAEC,cAAcC,QA6B3BA,MAAOnB,U,iBCnCXoB,EAAYC,SAASC,cAAc,eACnCC,EAAQ,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAClBC,EAAgBC,uBACpB,SAAAV,GACiB,WAAXA,EAAEW,MACJJ,MAGJ,CAACA,IAEGK,EAAsBF,uBAC1B,SAAAvB,GACMA,EAAMc,gBAAkBd,EAAM0B,QAChCN,MAGJ,CAACA,IASH,OAPAO,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWP,GAC5B,WACLM,OAAOE,oBAAoB,UAAWR,MAEvC,CAACA,IAEGS,uBACL,qBAAKjC,UAAWC,IAAEiC,QAASC,QAASR,EAApC,SACE,qBAAK3B,UAAWC,IAAEoB,MAAlB,SAA0BE,MAE5BL,I,mDC9BEkB,EAAmB,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,kBAAmBC,EAAa,EAAbA,OACvCC,EAAc,SAAAxB,GAAC,OACnBsB,EAAkBtB,EAAEa,OAAOY,QAAQC,WAAY1B,EAAEa,OAAOc,MAE1D,OACE,mCACGJ,EAAOK,KAAI,SAAAC,GACV,OACE,oBACET,QAASI,EACTvC,UAAU,mBAFZ,SAKE,qBACE6C,IAAKD,EAAKE,aACVJ,IAAKE,EAAKG,KACV/C,UAAWC,IAAE+C,wBACb,kBAAiBJ,EAAKK,iBANnBC,IAAQC,kBCVnBC,EAAe,SAAC,GAAmC,IAAjCd,EAAgC,EAAhCA,OAAQD,EAAwB,EAAxBA,kBAC9B,OACE,8BACE,oBAAIrC,UAAWC,IAAEmD,aAAjB,SACE,cAAC,EAAD,CACEf,kBAAmBA,EACnBC,OAAQA,S,iBCRlB,SAASe,EAAT,GAA8B,IAAZlB,EAAW,EAAXA,QAChB,OACE,qBAAKnC,UAAWC,IAAEqD,uBAAlB,SACE,wBAAQnB,QAASA,EAASnC,UAAWC,IAAEoD,OAAvC,yB,2DCDAE,EAAO,WACX,OACE,cAAC,IAAD,CACEhD,KAAK,eACLiD,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,IACT3D,UAAWC,IAAE2D,UCbJ,SAASC,IACtB/B,OAAOgC,SAAS,CACdC,IAAK5C,SAAS6C,gBAAgBC,aAC9BC,SAAU,WCWC,SAASC,IACtB,MAAkCtE,oBAAS,GAA3C,mBAAOuE,EAAP,KAAkBC,EAAlB,KACA,EAAgCxE,mBAAS,IAAzC,mBAAOyE,EAAP,KAAiBC,EAAjB,KACA,EAA0C1E,mBAAS,IAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAA8BF,oBAAS,GAAvC,mBAAO2E,EAAP,KAAgBC,EAAhB,KACA,EAAwB5E,mBAAS,GAAjC,mBAAO6E,EAAP,KAAaC,EAAb,KACA,EAA0C9E,mBAAS,IAAnD,mBAAO+E,EAAP,KAAsBC,EAAtB,KACA,EAAsBhF,mBAAS,IAA/B,mBAAO6C,EAAP,KAAYoC,EAAZ,KAEAjD,qBAAU,WACRkD,EAAQjF,EAAe4E,EAAM,eAC5B,CAAC5E,IACJ+B,qBAAU,WACRkD,EAAQjF,EAAe4E,EAAM,iBAC5B,CAACA,IACJ7C,qBAAU,WACR0C,EAAYD,KACX,CAACA,IACJ,IAAMU,EAAaC,kBAAO,GAC1BpD,qBAAU,WACJmD,EAAWE,QACbF,EAAWE,SAAU,EAGC,IAApBZ,EAASa,QACXC,MAED,CAACd,IACJ,IAAMS,EAAU,SAACM,EAASX,EAAM9C,ICvClC,SAAsB0D,GAAc,IAAXZ,EAAU,uDAAH,EAC9B,OAAOa,IAAMC,IAAN,4EACgEF,EADhE,iBAC0EZ,EAD1E,mCDuCLe,CAAaJ,EAASX,GACnBgB,MAAK,SAAAC,GAYJ,GAXwB,MAApBA,EAASC,QAAkB9F,EAAc+F,OAAOV,SACnC,cAAXvD,GACF2C,EAAY,YAAIoB,EAASG,KAAKC,OAKjB,gBAAXnE,GACF2C,EAAY,GAAD,mBAAKD,GAAL,YAAkBqB,EAASG,KAAKC,SAGvB,MAApBJ,EAASC,OACX,MAAM,IAAII,MAAML,EAASM,SAAW,yBAGvCP,MAAK,kBAAMjB,GAAW,MACtByB,SAAQ,WACPrC,QAGAuB,EAAc,WAClBhF,IAAMC,MAAM,mBAyBd,OACE,sBAAKL,UAAU,MAAf,UACE,cAAC,IAAD,CAAgBmG,UAAW,IAAMC,aAAa,IAC9C,cAAC,EAAD,CAAWxG,SAzBU,SAAAyF,GACvBZ,GAAW,GACX1E,EAAiBsF,GACjBN,EAAQM,EAASX,MAuBM,IAApBJ,EAASa,QACR,cAAC,EAAD,CACE9C,kBAbqB,SAACuC,EAAelC,GAC3C2B,GAAcD,QACQiC,IAAlBzB,IACFC,EAAiBD,GACjBE,EAAOpC,KAUHJ,OAAQgC,IAGXF,GACC,cAAC,EAAD,CAAO9C,QArBO,WAClB+C,GAAcD,IAoBV,SACE,qBAAKvB,IAAK+B,EAAelC,IAAKA,MAGjC8B,GAAW,cAAC,EAAD,IACXF,EAASa,OAAS,GACjB,qBAAKnF,UAAW,YAAhB,SACE,cAACqD,EAAD,CAAQlB,QAnCM,WACpBwC,EAAQD,EAAO,GACfD,GAAW,GACXM,EAAQjF,EAAe4E,EAAO,GAC9Bb,YExEJyC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrF,SAASsF,eAAe,W","file":"static/js/main.1a5536fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__4NWzx\",\"Modal\":\"Modal_Modal__21y09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button___7yau\",\"containerBtn__loadMore\":\"Button_containerBtn__loadMore__1DPz_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1S0f3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1D_OG\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1-6Js\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__26KKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__365vp\",\"SearchForm\":\"Searchbar_SearchForm__3iEfl\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3q5qg\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__39qLa\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1gsiR\"};","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchRequest, setSearchRequest] = useState('');\r\n\r\n  const onChangeInput = e => {\r\n    setSearchRequest(e.currentTarget.value);\r\n  };\r\n\r\n  const onSearchSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (!searchRequest) {\r\n      toast.error('Please, enter a name!');\r\n      return;\r\n    }\r\n    setSearchRequest('');\r\n\r\n    onSubmit(searchRequest);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={onSearchSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm__button}>\r\n          <span className={s.SearchForm__button__label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm__input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onChangeInput}\r\n          value={searchRequest}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };\r\n","import { useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nconst Modal = ({ onClose, children }) => {\r\n  const handleKeyDown = useCallback(\r\n    e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose],\r\n  );\r\n  const handleBackdropClick = useCallback(\r\n    event => {\r\n      if (event.currentTarget === event.target) {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose],\r\n  );\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [handleKeyDown]);\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Modal };\r\n","import PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ setCurrentPicture, images }) => {\n  const handleClick = e =>\n    setCurrentPicture(e.target.dataset.largeimage, e.target.alt);\n\n  return (\n    <>\n      {images.map(item => {\n        return (\n          <li\n            onClick={handleClick}\n            className=\"ImageGalleryItem\"\n            key={shortid.generate()}\n          >\n            <img\n              src={item.webformatURL}\n              alt={item.tags}\n              className={s.ImageGalleryItem__image}\n              data-largeimage={item.largeImageURL}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  setCurrentPicture: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport { ImageGalleryItem };\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, setCurrentPicture }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>\r\n        <ImageGalleryItem\r\n          setCurrentPicture={setCurrentPicture}\r\n          images={images}\r\n        />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n  setCurrentPicture: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { ImageGallery };\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <div className={s.containerBtn__loadMore}>\r\n      <button onClick={onClick} className={s.Button}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport { Button };\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Load = () => {\r\n  return (\r\n    <Loader\r\n      type=\"MutatingDots\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={500}\r\n      className={s.loader}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Load };","export default function scrollPageDown() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}","import './App.css';\nimport '../../styles/styles.css';\nimport { useState, useEffect, useRef } from 'react';\nimport { Searchbar } from '../Searchbar/Searchbar.jsx';\nimport { Modal } from '../Modal/Modal.jsx';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport { Button } from '../Button/Button.jsx';\nimport { GetImagesApi } from '../../Api/fetchApi';\nimport { Load } from '../Loader/Loader.jsx';\nimport scrollPageDown from '../../js/scrollPageDown';\n\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\nexport default function App() {\n  const [showModal, setShowModal] = useState(false);\n  const [pictures, setPictures] = useState([]);\n  const [searchRequest, setSearchRequest] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [largeImageSrc, setLargeImageSrc] = useState('');\n  const [alt, setAlt] = useState('');\n\n  useEffect(() => {\n    getData(searchRequest, page, 'searchBtn');\n  }, [searchRequest]);\n  useEffect(() => {\n    getData(searchRequest, page, 'loadMoreBtn');\n  }, [page]);\n  useEffect(() => {\n    setPictures(pictures);\n  }, [pictures]);\n  const isFirstRun = useRef(true);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n    if (pictures.length === 0) {\n      showMessage();\n    }\n  }, [pictures]);\n  const getData = (request, page, target) => {\n    GetImagesApi(request, page)\n      .then(response => {\n        if (response.status === 200 && searchRequest.trim().length) {\n          if (target === 'searchBtn') {\n            setPictures([...response.data.hits]);\n          }\n          // if (response.data.hits.length === 0) {\n          //   toast.error('Error request!');\n          // }\n          if (target === 'loadMoreBtn') {\n            setPictures([...pictures, ...response.data.hits]);\n          }\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || 'pictures not exist');\n        }\n      })\n      .then(() => setLoading(false))\n      .finally(() => {\n        scrollPageDown();\n      });\n  };\n  const showMessage = () => {\n    toast.error('Error request!');\n  };\n\n  const handleFormSubmit = request => {\n    setLoading(true);\n    setSearchRequest(request);\n    getData(request, page);\n  };\n  const pageIncrement = () => {\n    setPage(page + 1);\n    setLoading(true);\n    getData(searchRequest, page + 1);\n    scrollPageDown();\n    return;\n  };\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n  const setCurrentPictureSrc = (largeImageSrc, alt) => {\n    setShowModal(!showModal);\n    if (largeImageSrc !== undefined) {\n      setLargeImageSrc(largeImageSrc);\n      setAlt(alt);\n    }\n  };\n  return (\n    <div className=\"App\">\n      <ToastContainer autoClose={2000} newestOnTop={true} />\n      <Searchbar onSubmit={handleFormSubmit} />\n      {pictures.length !== 0 && (\n        <ImageGallery\n          setCurrentPicture={setCurrentPictureSrc}\n          images={pictures}\n        />\n      )}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageSrc} alt={alt} />\n        </Modal>\n      )}\n      {loading && <Load />}\n      {pictures.length > 0 && (\n        <div className={'container'}>\n          <Button onClick={pageIncrement} />\n        </div>\n      )}\n    </div>\n  );\n}\n","import axios from 'axios';\r\n\r\n\r\nfunction GetImagesApi(q, page = 1) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?key=23477910-25b98db95ade589aa6935604b&q=${q}&page=${page}&per_page=12&image_type=photo`,\r\n  );\r\n}\r\n\r\nexport { GetImagesApi };","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}